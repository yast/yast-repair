Making a new YaST2 module
=========================

Creating source:
----------------
These commands are necessary to creat a new agent:

  bash$ cd .../yast2/modules/y2c_skeleton
  bash$ ./make_new_module <new-name> <maintainer> <email>

Example:
  bash$ ./make_new_module security "Michal Svec" msvec@suse.cz

Now, the new module "y2c_security" was created in .../yast2/modules.

Testsuite:
----------
It is needed to prepare the testsuite before starting to compile
a new module. Take a look at modules/testsuite/doc/Prepare.txt.
Yoy at least have to installed the yast2-testsuite.rpm.
Than it should be enough to do this:

  bash# rpm -i yast2-testsuite.rpm
  bash$ make -f /usr/lib/YaST2/testsuite/Makefile.testsuite prepare

CVS commiting:
--------------
Just now, you can easily check in,
because there are no generated files.

  bash$ cvs add y2a_<new-name>
  bash$ cd y2a_<new-name>
  bash$ cvs add conf doc package src testsuite doc/autodoc
  bash$ cvs add {conf,doc,package,src,testsuite}/.cvsignore
  bash$ cvs add conf/{X,M}* testsuite/{M,R}* package/*.changes
  bash$ cvs add doc/{M,T,X}* doc/autodocs/Makefile.am doc/autodocs/.cvsignore
  bash$ cvs add src/*.ycp src/Makefile.am
  bash$ cvs add CO* M* R* V* a* confi* m* y*

Making and testing:
-------------------
To test the "default features", please type:

  bash$ make -f Makefile.cvs
  bash$ make
  bash$ sudo make install
  bash$ yast2

Packaging:
----------

Attention!
You have to modify the spec file "yast2-config-<name>.spec.in"
if there are package dependencies, or new files. 

Translation:
------------
You have to also create a corresponing translation package.
Just do this:

  bash$ cd ../yast2/po/y2t_skeleton
  bash$ ./make_new_module <new-name> <maintainer> <email>

If you want to enhance this skeleton:
-------------------------------------
The make_new_module script expand the following variables:

osr		packagename	adsl
Osr		Packagename	Adsl
Michael Koehrmann	maintainer	"Michael Hager"
curry@suse.de	email		mike@suse.de
XXdataX		date		"Wed Jul  5 09:15:24 CEST 2000"

Authors:
--------
Michael Hager <mike@suse.de>
Michal Svec <msvec@suse.cz>
