<html>
<head><META HTTP-EQUIV="content-type" CONTENT="text/html; charset=ISO-8859-1">
<title>Google-Suche:  </title>
<style><!--
body {font-family: arial,sans-serif;}
div.nav {margin-top: 1ex;}
div.nav A,span.nav {font-size: 10pt; font-family: arial,sans-serif;}
div.nav A,span.big {font-size: 12pt; color: #0000cc;}
div.nav A {font-size: 10pt; color: black;}
A.l:link {color: #6f6f6f;}
A.u:link {color: green;}
//--></style>
</head>
<body bgcolor=#ffffff text=#000000 link=#0000cc vlink=#551A8B alink=#ff0000 onLoad="document.forms[0].reset()">
<form method=GET action=/groups><table border=0 cellpadding=0 cellspacing=0><tr><td rowspan=2 valign=top><a href=/><img border=0 src=/intl/de/images/groups_logo.gif width=200 height=78 alt="Google "></a>&nbsp;&nbsp;&nbsp;&nbsp;</td><td align=left nowrap><table cellpadding=0 cellspacing=0 border=0><tr><td nowrap><INPUT type=text name=q size=25 maxlength=256 value=""> <INPUT TYPE=hidden name=hl value=de><INPUT TYPE=hidden name=lr value=><INPUT TYPE=hidden name=safe value=off><INPUT type=submit name=btnG VALUE="Google-Suche">  </td><td><table cellpadding=0 cellspacing=0 border=0><tr><td nowrap><font face=arial,sans-serif size=-1> &nbsp;<a href=/advanced_group_search?hl=de&lr=&safe=off&th=a155868e9f29f0f8>Usenet Advanced Search</a><br> &nbsp;<a href=/googlegroups/help.html>Usenet Help</A></font></td></tr></table></td></tr></table></td></tr><tr>  <td align=left valign=top nowrap><font face=arial,sans-serif size=-1>
<INPUT type=radio name=meta value="site=groups" checked> Search all groups&nbsp;
<INPUT type=radio name=meta value="site=search"> Suche im ganzen Web</font></form>
</td></tr></table>
<font color=#6f6f6f face=arial,sans-serif size=-1><center><a href=/googlegroups/help.html>Click here</a> for information about upcoming improvements to this beta version of Google's Usenet search.</center></font><br><table width=100%% cellpadding=2 cellspacing=0 border=0><tr><td bgcolor=#009933 nowrap><font face=arial,sans-serif size=-1 color=white><b>Usenet Messages</b> from the thread &quot;<b>lilo-- behaviour without an hda drive</b>&quot; &nbsp; </font></td><td bgcolor=#009933 align=right nowrap><font face=arial,sans-serif size=-1 color=white>Messages <b>1 - 6</b> of <b>6</b>.  </font></td></tr></table><br clear=all>
<a name=945605653>
<table width=100% bgcolor=#e0e0e0 cellpadding=2 cellspacing=0 border=0><tr><td><font face=arial,sans-serif>

<table cellpadding=0 cellspacing=0 border=0 align=right><tr><td><font face=arial,sans-serif>Message 1 in thread</font></td></tr></table>
From: <a href=/groups?hl=de&lr=&safe=off&q=author:unruh%40physics.ubc.ca+>Bill Unruh</a> (<a href=mailto:unruh%40physics.ubc.ca>unruh@physics.ubc.ca</a>)<br>Subject: lilo-- behaviour without an hda drive <br>Newsgroups: <a href=/groups?hl=de&lr=&safe=off&group=comp.os.linux.misc>comp.os.linux.misc</a><br>Date: 2000-12-31 12:33:34 PST
<br></font></td></tr></table><p>
<pre><font>I have been trying some experiments with my system, and have been
finding weird behaviour of lilo which perhaps someone can explain.

I have Linux on my hdb drive, and want to transfer my hda to another
machine. I set up lilo.conf to point only at the b drive (see below) so
no reference to a exists. I run lilo to place LILO onto a floppy, which
boots into the hdb drive fine. I now remove the hda drive, and try to
boot from the floppy. I get the dreaded
01 01 01 01 01 01 .....
I now plug that old a drive onto the master of the second ide ( ie make
it /dev/hdc). Now using the LILO on the floppy gives me
LI
and there sits.
Why?
The LILO on the floppy should not care if the master on the first IDE
bus exists, since it needs only the hdb drive. And in particular why in
the world does it care in hdc exists or not.


Now to finally ask the question which all of this was in aid of--  Can
LILO boot from drive hdc or hdd (ie must the /boot partition be on hda
or hdb or can it be on hdc or hdd) Note that LILO will be on the MBR of
hda.

And, since it seems there must be an a drive, I will have to make my
current hdb into the master on the first IDE and make it hda. Is there
an easy way of making this transition? currently it is hdb and it would
seem that there is no way of installing a LILO into its MBR which will
point to the correct locations on itself to be able to boot after it is
hda.

Notation: 
lilo the program used to install the boot loader
LILOthe boot loader itself- either on MBR of hda or on the MBR of the
floppy.

lilo.conf
-----------------------------------------
boot/dev/fd0
map/boot/map
install/boot/boot.b
vganormal
defaultlinux
keytable/boot/us.klt
lba32
prompt
timeout?
message/boot/message
menu-schemewb:bw:wb:bw
image/boot/vmlinuz
	labellinux
	root/dev/hdb5
	read-only
	append&quot;hdcide-scsi&quot;
image/boot/vmlinuz
	label?lsafe
	root/dev/hdb5
	append&quot; failsafe&quot;
	read-only
other/dev/fd0
	labelfloppy
	unsafe

</font></pre>

<a name=945507925>
<table width=100% bgcolor=#e0e0e0 cellpadding=2 cellspacing=0 border=0><tr><td><font face=arial,sans-serif>

<table bgcolor=#ffff66 cellpadding=0 cellspacing=0 border=0 align=right><tr><td><font face=arial,sans-serif>Message 2 in thread</font></td></tr></table>
From: <a href=/groups?hl=de&lr=&safe=off&q=author:markus.kossmann%40inka.de+>Markus Kossmann</a> (<a href=mailto:markus.kossmann%40inka.de>markus.kossmann@inka.de</a>)<br>Subject: Re: lilo-- behaviour without an hda drive <br>Newsgroups: <a href=/groups?hl=de&lr=&safe=off&group=comp.os.linux.misc>comp.os.linux.misc</a><br>Date: 2001-01-01 00:13:37 PST
<br></font></td></tr></table><p>
<pre><font>Bill Unruh wrote:</font>
<font color="#660066">&gt; 
&gt; I have been trying some experiments with my system, and have been
&gt; finding weird behaviour of lilo which perhaps someone can explain.
&gt; 
&gt; I have Linux on my hdb drive, and want to transfer my hda to another
&gt; machine. I set up lilo.conf to point only at the b drive (see below) so
&gt; no reference to a exists. I run lilo to place LILO onto a floppy, which
&gt; boots into the hdb drive fine. I now remove the hda drive, and try to
&gt; boot from the floppy. I get the dreaded
&gt; 01 01 01 01 01 01 .....
&gt; I now plug that old a drive onto the master of the second ide ( ie make
&gt; it /dev/hdc). Now using the LILO on the floppy gives me
&gt; LI
&gt; and there sits.
&gt; Why?
&gt; The LILO on the floppy should not care if the master on the first IDE
&gt; bus exists, since it needs only the hdb drive. And in particular why in
&gt; the world does it care in hdc exists or not.</font>
<font>
Well, lilo uses the BIOS to access the drives. The BIOS uses a number (
0x80 for the first drive , 0x81 for the second drive  ...) as descriptor
for the drive. If you install lilo by running it, some code will be
written to the bootblock of the drive. This code contains the drive
number hardcoded.
If you change your drive configuration, the BIOS reorders it's drive
numbering but lilo uses still the old number to access the drive.   </font>
<font color="#660066">&gt;
&gt; Now to finally ask the question which all of this was in aid of=--  Can
&gt; LILO boot from drive hdc or hdd (ie must the /boot partition be on hda
&gt; or hdb or can it be on hdc or hdd) Note that LILO will be on the MBR of
&gt; hda.</font>
<font>Lilo supports booting from any harddisk which is supported by the BIOS.
Only BIOSses of really old hardware support only two drives. So most
probably booting from hdc will work for you .
But during installing lilo will spy out a warning &quot;BIOS drive 0x82 may
not be accessible&quot; 
</font>
<font color="#660066">&gt; 
&gt; And, since it seems there must be an a drive, I will have to make my
&gt; current hdb into the master on the first IDE and make it hda. Is there
&gt; an easy way of making this transition? currently it is hdb and it would
&gt; seem that there is no way of installing a LILO into its MBR which will
&gt; point to the correct locations on itself to be able to boot after it is
&gt; hda.</font>
<font>Prepare a rescue floppy (set) with a working lilo, mount and maybe also
your preferred editor. You can use any floppy linux distribution (like
tomsrbt or minilinux) for that purpose. Check that the rescue system
works by booting into it and mounting a partition from your harddrive to
it and running lilo.  
Before moving the drives adapt /etc/lilo.conf and /etc/fstab to reflect
your future configuration.  
Then move the drives and boot into to rescue system.  Mount your root
partition to /mnt of the rescue system and if there is a extra /boot
partition, mount it to /mnt/boot. If you have an editor on your rescue
system you now have a second chance to adapt /mnt/etc/lilo.conf (and
fstab) to your new configuration.  Then run &quot;lilo -r /mnt&quot; and reboot. 

</font>
<font color="#007777">-- 
Markus Kossmann                                    
markus.kossmann@inka.de</font>
</pre>

<a name=945390537>
<table width=100% bgcolor=#e0e0e0 cellpadding=2 cellspacing=0 border=0><tr><td><font face=arial,sans-serif>

<table cellpadding=0 cellspacing=0 border=0 align=right><tr><td><font face=arial,sans-serif>Message 3 in thread</font></td></tr></table>
From: <a href=/groups?hl=de&lr=&safe=off&q=author:dhbrown%40apm6-154.realtime.net+>Dave Brown</a> (<a href=mailto:dhbrown%40apm6-154.realtime.net>dhbrown@apm6-154.realtime.net</a>)<br>Subject: Re: lilo-- behaviour without an hda drive <br>Newsgroups: <a href=/groups?hl=de&lr=&safe=off&group=comp.os.linux.misc>comp.os.linux.misc</a><br>Date: 2001-01-01 07:42:01 PST
<br></font></td></tr></table><p>
<pre><font>In article &lt;92o4s9$m02$1@nntp.itservices.ubc.ca&gt;, Bill Unruh wrote:</font>
<font color="#660066">&gt;I have been trying some experiments with my system, and have been
&gt;finding weird behaviour of lilo which perhaps someone can explain.
&gt;
&gt;I have Linux on my hdb drive, and want to transfer my hda to another
&gt;machine. I set up lilo.conf to point only at the b drive (see below) so
&gt;no reference to a exists. I run lilo to place LILO onto a floppy, which
&gt;boots into the hdb drive fine. I now remove the hda drive, and try to
&gt;boot from the floppy. I get the dreaded
&gt;01 01 01 01 01 01 .....
&gt;I now plug that old a drive onto the master of the second ide ( ie make
&gt;it /dev/hdc). Now using the LILO on the floppy gives me
&gt;LI
&gt;and there sits.
&gt;Why?
&gt;The LILO on the floppy should not care if the master on the first IDE
&gt;bus exists, since it needs only the hdb drive. And in particular why in
&gt;the world does it care in hdc exists or not.
&gt;
&gt;</font>
<font>You raise a couple of interesting questions.  It's been a while since I 
did the hdisk shuffle, and I don't think that I've ever done it quite like 
you did.  However, I suspect that if you have no master on IDE0, that the 
slave probably becomes hda.  I never thought about what happens when you 
have nothing on IDE0, but perhaps the same thing happens--the slave becomes
hdc.  

I do know from recent experience that lilo has to find everything that's 
described in the lilo.conf, or you get the 01010101.. business.  I have a 
linux installation on one partition of a SCSI drive in a tower, and if I 
forget to turn the tower on, when lilo fires up, it gives the 0101010...

I do remember having to change device letters when moving drive.  
Incidentally, have you ever deleted a partition which had partitions above 
it? The remaining partitions get renumbered as well.
</font>
<font color="#007777">-- 
Dave Brown  Austin, TX</font>
</pre>

<a name=945380241>
<table width=100% bgcolor=#e0e0e0 cellpadding=2 cellspacing=0 border=0><tr><td><font face=arial,sans-serif>

<table cellpadding=0 cellspacing=0 border=0 align=right><tr><td><font face=arial,sans-serif>Message 4 in thread</font></td></tr></table>
From: <a href=/groups?hl=de&lr=&safe=off&q=author:ptb%40oboe.it.uc3m.es+>Peter T. Breuer</a> (<a href=mailto:ptb%40oboe.it.uc3m.es>ptb@oboe.it.uc3m.es</a>)<br>Subject: Re: lilo-- behaviour without an hda drive <br>Newsgroups: <a href=/groups?hl=de&lr=&safe=off&group=comp.os.linux.misc>comp.os.linux.misc</a><br>Date: 2001-01-01 08:30:04 PST
<br></font></td></tr></table><p>
<pre><font>Bill Unruh &lt;unruh@physics.ubc.ca&gt; wrote:</font>
<font color="#660066">&gt; The LILO on the floppy should not care if the master on the first IDE
&gt; bus exists, since it needs only the hdb drive. And in particular why in
&gt; the world does it care in hdc exists or not.</font>
<font>
Bios bootable devices are numbered 80, 81, etc. by the bios at bootup. 
The binding will change according to the pysical condition of your
machine at bootup. The reference in lilo won't change. Result =
confusion.
</font>
<font color="#660066">&gt; Now to finally ask the question which all of this was in aid of=--  Can
&gt; LILO boot from drive hdc or hdd (ie must the /boot partition be on hda</font>
<font>
Only if the bios supports it.
</font>
<font color="#660066">&gt; or hdb or can it be on hdc or hdd) Note that LILO will be on the MBR of
&gt; hda.</font>
<font>
You can always boot from hdb, however.
</font>
<font color="#660066">&gt; And, since it seems there must be an a drive, I will have to make my
&gt; current hdb into the master on the first IDE and make it hda. Is there
&gt; an easy way of making this transition? currently it is hdb and it would
&gt; seem that there is no way of installing a LILO into its MBR which will
&gt; point to the correct locations on itself to be able to boot after it is
&gt; hda.</font>
<font>
You can do it. But agreed, this takes magic. You'll have to have
boot=/dev/hdb in order to hit it,  and the rest of the magic, is, uh,
dubious ... the image locations will be wrong. You'll have to include
lilo device remapping magic.

</font>
</pre>

<a name=945360995>
<table width=100% bgcolor=#e0e0e0 cellpadding=2 cellspacing=0 border=0><tr><td><font face=arial,sans-serif>

<table cellpadding=0 cellspacing=0 border=0 align=right><tr><td><font face=arial,sans-serif>Message 5 in thread</font></td></tr></table>
From: <a href=/groups?hl=de&lr=&safe=off&q=author:johninsd%40hotmail.com+>John in SD</a> (<a href=mailto:johninsd%40hotmail.com>johninsd@hotmail.com</a>)<br>Subject: Re: lilo-- behaviour without an hda drive <br>Newsgroups: <a href=/groups?hl=de&lr=&safe=off&group=comp.os.linux.misc>comp.os.linux.misc</a><br>Date: 2001-01-01 09:52:18 PST
<br></font></td></tr></table><p>
<pre><font>The previous comments are on the mark.

LILO assumes that /dev/hda is bios drive 0x80, /dev/hdb is bios drive 0x81,
etc.  In swapping disks, this mapping by the BIOS is disturbed.  LILO will
have to be re-run, and if the BIOS default mapping is no longer correct, then
the lines:

   disk=/dev/hdX
       bios=0x80
   disk=/dev/hdY
       bios=0x81
   etc.

will have to be added to 'lilo.conf'.

Remember that the LILO boot-loader uses the BIOS to get the system loaded.  If
drive codes assigned by the BIOS have been distrubed, then /sbin/lilo, the
boot-installer, will have to be re-run.

--John




On Mon, 1 Jan 2001 17:16:26 +0100, &quot;Peter T. Breuer&quot; &lt;ptb@oboe.it.uc3m.es&gt;
wrote:
</font>
<font color="#660066">&gt;Bill Unruh &lt;unruh@physics.ubc.ca&gt; wrote:</font>
<font color="#007777">&gt;&gt; The LILO on the floppy should not care if the master on the first IDE
&gt;&gt; bus exists, since it needs only the hdb drive. And in particular why in
&gt;&gt; the world does it care in hdc exists or not.</font>
<font color="#660066">&gt;
&gt;Bios bootable devices are numbered 80, 81, etc. by the bios at bootup. 
&gt;The binding will change according to the pysical condition of your
&gt;machine at bootup. The reference in lilo won't change. Result =
&gt;confusion.
&gt;</font>
<font color="#007777">&gt;&gt; Now to finally ask the question which all of this was in aid of=--  Can
&gt;&gt; LILO boot from drive hdc or hdd (ie must the /boot partition be on hda</font>
<font color="#660066">&gt;
&gt;Only if the bios supports it.
&gt;</font>
<font color="#007777">&gt;&gt; or hdb or can it be on hdc or hdd) Note that LILO will be on the MBR of
&gt;&gt; hda.</font>
<font color="#660066">&gt;
&gt;You can always boot from hdb, however.
&gt;</font>
<font color="#007777">&gt;&gt; And, since it seems there must be an a drive, I will have to make my
&gt;&gt; current hdb into the master on the first IDE and make it hda. Is there
&gt;&gt; an easy way of making this transition? currently it is hdb and it would
&gt;&gt; seem that there is no way of installing a LILO into its MBR which will
&gt;&gt; point to the correct locations on itself to be able to boot after it is
&gt;&gt; hda.</font>
<font color="#660066">&gt;
&gt;You can do it. But agreed, this takes magic. You'll have to have
&gt;boot=/dev/hdb in order to hit it,  and the rest of the magic, is, uh,
&gt;dubious ... the image locations will be wrong. You'll have to include
&gt;lilo device remapping magic.
&gt;</font>
<font>

LILO version 21.6 (04-Oct-2000) source at
http://www.ibiblio.org/pub/Linux/system/boot/lilo
patches at ftp://brun.dyndns.org/pub/linux/lilo
</font></pre>

<a name=945169796>
<table width=100% bgcolor=#e0e0e0 cellpadding=2 cellspacing=0 border=0><tr><td><font face=arial,sans-serif>

<table cellpadding=0 cellspacing=0 border=0 align=right><tr><td><font face=arial,sans-serif>Message 6 in thread</font></td></tr></table>
From: <a href=/groups?hl=de&lr=&safe=off&q=author:whitehse%40cafedemocracy.org+>Dan White</a> (<a href=mailto:whitehse%40cafedemocracy.org>whitehse@cafedemocracy.org</a>)<br>Subject: Re: lilo-- behaviour without an hda drive <br>Newsgroups: <a href=/groups?hl=de&lr=&safe=off&group=comp.os.linux.misc>comp.os.linux.misc</a><br>Date: 2001-01-01 23:19:02 PST
<br></font></td></tr></table><p>
<pre><font>In article &lt;92o4s9$m02$1@nntp.itservices.ubc.ca&gt;, unruh@physics.ubc.ca 
wrote:
</font>
<font color="#660066">&gt; I have been trying some experiments with my system, and have been
&gt; finding weird behaviour of lilo which perhaps someone can explain.
&gt; 
&gt; I have Linux on my hdb drive, and want to transfer my hda to another
&gt; machine. I set up lilo.conf to point only at the b drive (see below) so
&gt; no reference to a exists. I run lilo to place LILO onto a floppy, which
&gt; boots into the hdb drive fine. I now remove the hda drive, and try to
&gt; boot from the floppy. I get the dreaded
&gt; 01 01 01 01 01 01 .....
&gt; I now plug that old a drive onto the master of the second ide ( ie make
&gt; it /dev/hdc). Now using the LILO on the floppy gives me LI and there
&gt; sits. Why? The LILO on the floppy should not care if the master on the
&gt; first IDE bus exists, since it needs only the hdb drive. And in
&gt; particular why in the world does it care in hdc exists or not.
&gt; </font>
<font>
You can probably get away with tricking LILO before you remove hda. Add:

disk = /dev/hdb
	bios=0x80

then run rerun lilo, which will complain it's not a bootable drive. You
can ignore the message. Remove hda, reboot and cross you fingers :)

- Dan White</font>
</pre>

<form method=GET action=/groups><center><font face=arial,sans-serif><small><INPUT type=text name=q size=31 maxlength=256 value=""> <INPUT type=submit name=btnG VALUE="Google-Suche"><INPUT TYPE=hidden name=hl value=de><INPUT TYPE=hidden name=lr value=><INPUT TYPE=hidden name=safe value=off></small></font></form><p><center><table width=100% cellpadding=2 cellspacing=0 border=0><tr><td width=100% bgcolor=#009933><font face=arial,sans-serif color=white>&nbsp;</font></td></tr></table><br><font size=-1 color=#6f6f6f>&copy;2001 Google</font></center></body></html>
