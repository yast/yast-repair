<html>
<head><META HTTP-EQUIV="content-type" CONTENT="text/html; charset=ISO-8859-1">
<title>Google-Suche:  </title>
<style><!--
body {font-family: arial,sans-serif;}
div.nav {margin-top: 1ex;}
div.nav A,span.nav {font-size: 10pt; font-family: arial,sans-serif;}
div.nav A,span.big {font-size: 12pt; color: #0000cc;}
div.nav A {font-size: 10pt; color: black;}
A.l:link {color: #6f6f6f;}
A.u:link {color: green;}
//--></style>
</head>
<body bgcolor=#ffffff text=#000000 link=#0000cc vlink=#551A8B alink=#ff0000 onLoad="document.forms[0].reset()">
<form method=GET action=/groups><table border=0 cellpadding=0 cellspacing=0><tr><td rowspan=2 valign=top><a href=/><img border=0 src=/intl/de/images/groups_logo.gif width=200 height=78 alt="Google "></a>&nbsp;&nbsp;&nbsp;&nbsp;</td><td align=left nowrap><table cellpadding=0 cellspacing=0 border=0><tr><td nowrap><INPUT type=text name=q size=25 maxlength=256 value=""> <INPUT TYPE=hidden name=hl value=de><INPUT TYPE=hidden name=lr value=><INPUT TYPE=hidden name=safe value=off><INPUT type=submit name=btnG VALUE="Google-Suche">  </td><td><table cellpadding=0 cellspacing=0 border=0><tr><td nowrap><font face=arial,sans-serif size=-1> &nbsp;<a href=/advanced_group_search?hl=de&lr=&safe=off&th=cceab29cb81e33a0>Usenet Advanced Search</a><br> &nbsp;<a href=/googlegroups/help.html>Usenet Help</A></font></td></tr></table></td></tr></table></td></tr><tr>  <td align=left valign=top nowrap><font face=arial,sans-serif size=-1>
<INPUT type=radio name=meta value="site=groups" checked> Search all groups&nbsp;
<INPUT type=radio name=meta value="site=search"> Suche im ganzen Web</font></form>
</td></tr></table>
<font color=#6f6f6f face=arial,sans-serif size=-1><center><a href=/googlegroups/help.html>Click here</a> for information about upcoming improvements to this beta version of Google's Usenet search.</center></font><br><table width=100%% cellpadding=2 cellspacing=0 border=0><tr><td bgcolor=#009933 nowrap><font face=arial,sans-serif size=-1 color=white><b>Usenet Messages</b> from the thread &quot;<b>System randomly crash when running SMP kernel on dua...</b>&quot; &nbsp; </font></td><td bgcolor=#009933 align=right nowrap><font face=arial,sans-serif size=-1 color=white>Messages <b>1 - 5</b> of <b>5</b>.  </font></td></tr></table><br clear=all>
<a name=923059945>
<table width=100% bgcolor=#e0e0e0 cellpadding=2 cellspacing=0 border=0><tr><td><font face=arial,sans-serif>

<table cellpadding=0 cellspacing=0 border=0 align=right><tr><td><font face=arial,sans-serif>Message 1 in thread</font></td></tr></table>
From: <a href=/groups?hl=de&lr=&safe=off&q=author:dyeung%40ust.hk+>David YEUNG</a> (<a href=mailto:dyeung%40ust.hk>dyeung@ust.hk</a>)<br>Subject: System randomly crash when running SMP kernel on dual CPU machine <br>Newsgroups: <a href=/groups?hl=de&lr=&safe=off&group=comp.os.linux.development.system>comp.os.linux.development.system</a><br>Date: 2001-02-21 00:14:03 PST
<br></font></td></tr></table><p>
<pre><font>I have a dual-CPU Intel PIII machine installed with RedHat 6.2 Linux.
It crash occationally if I booted it with the SMP kernel (I tried different
versions of the kernel from RedHat - kernel-smp-2.2.16-3 and kernel-smp-2.2.17-14 
RPM files) and have the similar problem.

Here is the log in the /var/log/messages file when the machine boot up 
with the 2.2.17smp kernel:

Feb 21 14:59:01 hqlx06 kernel: CPU 1: Machine Check Exception: 0000000400000000&lt;0&gt;Bank 3: f20000000002010ageneral protection fault: 0000
Feb 21 14:59:01 hqlx06 kernel: CPU:    1
Feb 21 14:59:01 hqlx06 kernel: EIP:    0010:[mcheck_fault+263/368]
Feb 21 14:59:01 hqlx06 kernel: EFLAGS: 00010246
Feb 21 14:59:01 hqlx06 kernel: eax: 0002010a   ebx: 72000000   ecx: 0000040d   edx: 72000000
Feb 21 14:59:01 hqlx06 kernel: esi: 0000000c   edi: 00000003   ebp: 00000003   esp: cdaa3f94
Feb 21 14:59:01 hqlx06 kernel: ds: 0018   es: 0018   ss: 0018
Feb 21 14:59:01 hqlx06 kernel: Process buoy2nc_v2 (pid: 10077, process nr: 29, stackpage=cdaa3000)
Feb 21 14:59:01 hqlx06 kernel: Stack: bffff7c0 bffff758 00000005 d9b345c0 00000001 0000040d 00000000 00000004
Feb 21 14:59:01 hqlx06 kernel:        0002010a c010a2b1 cdaa3fc4 00000000 401441cc 03ffffff 00000000 0c375947
Feb 21 14:59:01 hqlx06 kernel:        bffff7c0 bffff758 0c375947 0000002b 0000002b ffffffff 400ab67c 00000023
Feb 21 14:59:01 hqlx06 kernel: Call Trace: [error_code+45/52]
Feb 21 14:59:01 hqlx06 kernel: Code: 0f 30 a1 44 a1 22 c0 89 44 24 10 47 3b 7c 24 10 0f 8c 3b ff

However, if I boot up the dual-CPU machine with the single CPU kernel from RedHat. The 
machine does not have any problem at all. Anyone knows what's wrong? Is it a hardware problem
or OS bug?

Thanks

David Yeung
</font></pre>

<a name=922757440>
<table width=100% bgcolor=#e0e0e0 cellpadding=2 cellspacing=0 border=0><tr><td><font face=arial,sans-serif>

<table cellpadding=0 cellspacing=0 border=0 align=right><tr><td><font face=arial,sans-serif>Message 2 in thread</font></td></tr></table>
From: <a href=/groups?hl=de&lr=&safe=off&q=author:stimits%40idcomm.com+>D. Stimits</a> (<a href=mailto:stimits%40idcomm.com>stimits@idcomm.com</a>)<br>Subject: Re: System randomly crash when running SMP kernel on dual CPU machine <br>Newsgroups: <a href=/groups?hl=de&lr=&safe=off&group=comp.os.linux.development.system>comp.os.linux.development.system</a><br>Date: 2001-02-21 12:40:05 PST
<br></font></td></tr></table><p>
<pre><font>What chipset does your motherboard use? Does /var/log/messages contain
&quot;WARNING: unexpected IO-APIC, please mail&quot;? Do you have sufficient
cooling and power supply?

David YEUNG wrote:</font>
<font color="#660066">&gt; 
&gt; I have a dual-CPU Intel PIII machine installed with RedHat 6.2 Linux.
&gt; It crash occationally if I booted it with the SMP kernel (I tried different
&gt; versions of the kernel from RedHat - kernel-smp-2.2.16-3 and kernel-smp-2.2.17-14
&gt; RPM files) and have the similar problem.
&gt; 
&gt; Here is the log in the /var/log/messages file when the machine boot up
&gt; with the 2.2.17smp kernel:
&gt; 
&gt; Feb 21 14:59:01 hqlx06 kernel: CPU 1: Machine Check Exception: 0000000400000000&lt;0&gt;Bank 3: f20000000002010ageneral protection fault: 0000
&gt; Feb 21 14:59:01 hqlx06 kernel: CPU:    1
&gt; Feb 21 14:59:01 hqlx06 kernel: EIP:    0010:[mcheck_fault+263/368]
&gt; Feb 21 14:59:01 hqlx06 kernel: EFLAGS: 00010246
&gt; Feb 21 14:59:01 hqlx06 kernel: eax: 0002010a   ebx: 72000000   ecx: 0000040d   edx: 72000000
&gt; Feb 21 14:59:01 hqlx06 kernel: esi: 0000000c   edi: 00000003   ebp: 00000003   esp: cdaa3f94
&gt; Feb 21 14:59:01 hqlx06 kernel: ds: 0018   es: 0018   ss: 0018
&gt; Feb 21 14:59:01 hqlx06 kernel: Process buoy2nc_v2 (pid: 10077, process nr: 29, stackpage=cdaa3000)
&gt; Feb 21 14:59:01 hqlx06 kernel: Stack: bffff7c0 bffff758 00000005 d9b345c0 00000001 0000040d 00000000 00000004
&gt; Feb 21 14:59:01 hqlx06 kernel:        0002010a c010a2b1 cdaa3fc4 00000000 401441cc 03ffffff 00000000 0c375947
&gt; Feb 21 14:59:01 hqlx06 kernel:        bffff7c0 bffff758 0c375947 0000002b 0000002b ffffffff 400ab67c 00000023
&gt; Feb 21 14:59:01 hqlx06 kernel: Call Trace: [error_code+45/52]
&gt; Feb 21 14:59:01 hqlx06 kernel: Code: 0f 30 a1 44 a1 22 c0 89 44 24 10 47 3b 7c 24 10 0f 8c 3b ff
&gt; 
&gt; However, if I boot up the dual-CPU machine with the single CPU kernel from RedHat. The
&gt; machine does not have any problem at all. Anyone knows what's wrong? Is it a hardware problem
&gt; or OS bug?
&gt; 
&gt; Thanks
&gt; 
&gt; David Yeung
</font></pre>

<a name=922668411>
<table width=100% bgcolor=#e0e0e0 cellpadding=2 cellspacing=0 border=0><tr><td><font face=arial,sans-serif>

<table cellpadding=0 cellspacing=0 border=0 align=right><tr><td><font face=arial,sans-serif>Message 3 in thread</font></td></tr></table>
From: <a href=/groups?hl=de&lr=&safe=off&q=author:dyeung%40ust.hk+>David YEUNG</a> (<a href=mailto:dyeung%40ust.hk>dyeung@ust.hk</a>)<br>Subject: Re: System randomly crash when running SMP kernel on dual CPU machine <br>Newsgroups: <a href=/groups?hl=de&lr=&safe=off&group=comp.os.linux.development.system>comp.os.linux.development.system</a><br>Date: 2001-02-21 17:23:34 PST
<br></font></td></tr></table><p>
<pre><font>&quot;D. Stimits&quot; wrote:</font>
<font color="#660066">&gt; 
&gt; What chipset does your motherboard use? Does /var/log/messages contain
&gt; &quot;WARNING: unexpected IO-APIC, please mail&quot;? Do you have sufficient
&gt; cooling and power supply?
&gt; </font>
<font>
Here is the boot-up messags in the /var/log/messages file. However, I don't
see the &quot;WARNING: unexpected IO-APIC&quot; message in the file. If the machine is
up and idle (the loading is low), the machine is stable. The machine
seem to have trouble if there is one or more big and long running processes. So
I think the cooling and power supply should not be the problem.

Thanks

david

--- /var/log/messages ------------
Feb 22 08:51:03 hqlx06 syslogd 1.3-3: restart.
Feb 22 08:51:03 hqlx06 syslog: syslogd startup succeeded
Feb 22 08:51:04 hqlx06 kernel: klogd 1.3-3, log source = /proc/kmsg started.
Feb 22 08:51:04 hqlx06 kernel: Inspecting /boot/System.map-2.2.17-14smp
Feb 22 08:51:04 hqlx06 syslog: klogd startup succeeded
Feb 22 08:51:04 hqlx06 kernel: Loaded 7691 symbols from /boot/System.map-2.2.17-14smp.
Feb 22 08:51:04 hqlx06 kernel: Symbols match kernel version 2.2.17.
Feb 22 08:51:04 hqlx06 kernel: Loaded 128 symbols from 6 modules.
Feb 22 08:51:04 hqlx06 kernel: Linux version 2.2.17-14smp (root@porky.devel.redhat.com) (gcc version egcs-2.91.66 19990314/Linux (egcs-1.1.2 release)) #1 SMP Mon Feb 5 18:40:03 EST 2001
Feb 22 08:51:04 hqlx06 kernel: Intel MultiProcessor Specification v1.1
Feb 22 08:51:04 hqlx06 kernel:     Virtual Wire compatibility mode.
Feb 22 08:51:04 hqlx06 kernel: OEM ID: OEM00000 Product ID: PROD00000000 APIC at: 0xFEE00000
Feb 22 08:51:04 hqlx06 kernel: Processor #0 Pentium(tm) Pro APIC version 17
Feb 22 08:51:04 hqlx06 kernel: Processor #1 Pentium(tm) Pro APIC version 17
Feb 22 08:51:04 hqlx06 kernel: I/O APIC #2 Version 17 at 0xFEC00000.
Feb 22 08:51:04 hqlx06 kernel: Processors: 2
Feb 22 08:51:04 hqlx06 kernel: mapped APIC to ffffe000 (fee00000)
Feb 22 08:51:04 hqlx06 kernel: mapped IOAPIC to ffffd000 (fec00000)
Feb 22 08:51:04 hqlx06 kernel: Detected 560803 kHz processor.
Feb 22 08:51:04 hqlx06 kernel: Console: colour VGA+ 80x25
Feb 22 08:51:04 hqlx06 kernel: Calibrating delay loop... 1117.39 BogoMIPS
Feb 22 08:51:04 hqlx06 kernel: Memory: 516524k/524224k available (1124k kernel code, 420k reserved, 5656k data, 80k init, 0k bigmem)
Feb 22 08:51:04 hqlx06 kernel: Dentry hash table entries: 262144 (order 9, 2048k)
Feb 22 08:51:04 hqlx06 kernel: Buffer cache hash table entries: 524288 (order 9, 2048k)
Feb 22 08:51:04 hqlx06 kernel: Page cache hash table entries: 131072 (order 7, 512k)
Feb 22 08:51:04 hqlx06 kernel: VFS: Diskquotas version dquot_6.4.0 initialized
Feb 22 08:51:04 hqlx06 kernel: CPU serial number disabled.
Feb 22 08:51:04 hqlx06 kernel: Enabling fast FPU save and restore... done.
Feb 22 08:51:04 hqlx06 kernel: Enabling unmasked SIMD FPU exception support... done.
Feb 22 08:51:04 hqlx06 kernel: Checking 386/387 coupling... OK, FPU using exception 16 error reporting.
Feb 22 08:51:04 hqlx06 kernel: Checking 'hlt' instruction... OK.
Feb 22 08:51:04 hqlx06 kernel: POSIX conformance testing by UNIFIX
</font></pre>
<p><i><a href=/groups?hl=de&lr=&safe=off&th=cceab29cb81e33a0&rnum=3&seld=922668411&ic=1>Read the rest of this message...</a> (210 more lines)</i><p>
<a name=922610603>
<table width=100% bgcolor=#e0e0e0 cellpadding=2 cellspacing=0 border=0><tr><td><font face=arial,sans-serif>

<table cellpadding=0 cellspacing=0 border=0 align=right><tr><td><font face=arial,sans-serif>Message 4 in thread</font></td></tr></table>
From: <a href=/groups?hl=de&lr=&safe=off&q=author:dyeung%40ust.hk+>David YEUNG</a> (<a href=mailto:dyeung%40ust.hk>dyeung@ust.hk</a>)<br>Subject: Re: System randomly crash when running SMP kernel on dual CPU machine <br>Newsgroups: <a href=/groups?hl=de&lr=&safe=off&group=comp.os.linux.development.system>comp.os.linux.development.system</a><br>Date: 2001-02-21 22:12:01 PST
<br></font></td></tr></table><p>
<pre><font>&quot;D. Stimits&quot; wrote:</font>
<font color="#660066">&gt; 
&gt; It certainly isn't the i840 chipset, so that isn't the problem. Next
&gt; thing I'd do is run top while it runs these long operations, and see if
&gt; it runs out of memory. Be extra careful to see if swap space is used up
&gt; or not.
&gt; </font>
<font>
It shouldn't be the swap space problem since there is no problem when the 
machine is booted up using the single-CPU kernel and run the same programs.

Thanks

david

</font>
<font color="#660066">&gt; David YEUNG wrote:</font>
<font color="#007777">&gt; &gt;
&gt; &gt; &quot;D. Stimits&quot; wrote:</font>
<font color="#990000">&gt; &gt; &gt;
&gt; &gt; &gt; What chipset does your motherboard use? Does /var/log/messages contain
&gt; &gt; &gt; &quot;WARNING: unexpected IO-APIC, please mail&quot;? Do you have sufficient
&gt; &gt; &gt; cooling and power supply?
&gt; &gt; &gt;</font>
<font color="#007777">&gt; &gt;
&gt; &gt; Here is the boot-up messags in the /var/log/messages file. However, I don't
&gt; &gt; see the &quot;WARNING: unexpected IO-APIC&quot; message in the file. If the machine is
&gt; &gt; up and idle (the loading is low), the machine is stable. The machine
&gt; &gt; seem to have trouble if there is one or more big and long running processes. So
&gt; &gt; I think the cooling and power supply should not be the problem.
&gt; &gt;
&gt; &gt; Thanks
&gt; &gt;
&gt; &gt; david
&gt; &gt;
&gt; &gt; --- /var/log/messages ------------
&gt; &gt; Feb 22 08:51:03 hqlx06 syslogd 1.3-3: restart.
&gt; &gt; Feb 22 08:51:03 hqlx06 syslog: syslogd startup succeeded
&gt; &gt; Feb 22 08:51:04 hqlx06 kernel: klogd 1.3-3, log source = /proc/kmsg started.
&gt; &gt; Feb 22 08:51:04 hqlx06 kernel: Inspecting /boot/System.map-2.2.17-14smp
&gt; &gt; Feb 22 08:51:04 hqlx06 syslog: klogd startup succeeded
&gt; &gt; Feb 22 08:51:04 hqlx06 kernel: Loaded 7691 symbols from /boot/System.map-2.2.17-14smp.
&gt; &gt; Feb 22 08:51:04 hqlx06 kernel: Symbols match kernel version 2.2.17.
&gt; &gt; Feb 22 08:51:04 hqlx06 kernel: Loaded 128 symbols from 6 modules.
&gt; &gt; Feb 22 08:51:04 hqlx06 kernel: Linux version 2.2.17-14smp (root@porky.devel.redhat.com) (gcc version egcs-2.91.66 19990314/Linux (egcs-1.1.2 release)) #1 SMP Mon Feb 5 18:40:03 EST 2001
&gt; &gt; Feb 22 08:51:04 hqlx06 kernel: Intel MultiProcessor Specification v1.1
&gt; &gt; Feb 22 08:51:04 hqlx06 kernel:     Virtual Wire compatibility mode.
&gt; &gt; Feb 22 08:51:04 hqlx06 kernel: OEM ID: OEM00000 Product ID: PROD00000000 APIC at: 0xFEE00000
&gt; &gt; Feb 22 08:51:04 hqlx06 kernel: Processor #0 Pentium(tm) Pro APIC version 17
&gt; &gt; Feb 22 08:51:04 hqlx06 kernel: Processor #1 Pentium(tm) Pro APIC version 17
</font></pre>
<p><i><a href=/groups?hl=de&lr=&safe=off&th=cceab29cb81e33a0&rnum=4&seld=922610603&ic=1>Read the rest of this message...</a> (225 more lines)</i><p>
<a name=922039593>
<table width=100% bgcolor=#e0e0e0 cellpadding=2 cellspacing=0 border=0><tr><td><font face=arial,sans-serif>

<table bgcolor=#ffff66 cellpadding=0 cellspacing=0 border=0 align=right><tr><td><font face=arial,sans-serif>Message 5 in thread</font></td></tr></table>
From: <a href=/groups?hl=de&lr=&safe=off&q=author:kasperd%40daimi.au.dk+>Kasper Dupont</a> (<a href=mailto:kasperd%40daimi.au.dk>kasperd@daimi.au.dk</a>)<br>Subject: Re: System randomly crash when running SMP kernel on dual CPU machine <br>Newsgroups: <a href=/groups?hl=de&lr=&safe=off&group=comp.os.linux.development.system>comp.os.linux.development.system</a><br>Date: 2001-02-23 06:38:05 PST
<br></font></td></tr></table><p>
<pre><font>David YEUNG wrote:</font>
<font color="#660066">&gt; 
&gt; &quot;D. Stimits&quot; wrote:</font>
<font color="#007777">&gt; &gt;
&gt; &gt; What chipset does your motherboard use? Does /var/log/messages contain
&gt; &gt; &quot;WARNING: unexpected IO-APIC, please mail&quot;? Do you have sufficient
&gt; &gt; cooling and power supply?
&gt; &gt;</font>
<font color="#660066">&gt; 
&gt; Here is the boot-up messags in the /var/log/messages file. However, I don't
&gt; see the &quot;WARNING: unexpected IO-APIC&quot; message in the file. If the machine is
&gt; up and idle (the loading is low), the machine is stable. The machine
&gt; seem to have trouble if there is one or more big and long running processes. So
&gt; I think the cooling and power supply should not be the problem.
&gt; </font>
<font>[...]

To me it sounds very likely that you have a problem
with cooling or power suply. When the system is
idle the CPUs are halted, this means they use less
power and therefore also needs less cooling.

Problems with cooling or power suply are most likely
under high load.

The error message you gets reports a hardware
problem not a software problem. Of course the report
could be wrong, but most likely it is a hardware
problem.
</font>
<font color="#007777">-- 
Kasper Dupont</font>
</pre>

<form method=GET action=/groups><center><font face=arial,sans-serif><small><INPUT type=text name=q size=31 maxlength=256 value=""> <INPUT type=submit name=btnG VALUE="Google-Suche"><INPUT TYPE=hidden name=hl value=de><INPUT TYPE=hidden name=lr value=><INPUT TYPE=hidden name=safe value=off></small></font></form><p><center><table width=100% cellpadding=2 cellspacing=0 border=0><tr><td width=100% bgcolor=#009933><font face=arial,sans-serif color=white>&nbsp;</font></td></tr></table><br><font size=-1 color=#6f6f6f>&copy;2001 Google</font></center></body></html>
